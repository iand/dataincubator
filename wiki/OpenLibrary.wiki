#summary Notes on converting OpenLibrary data to RDF
#labels marc,openlibrary,library

Discuss this project on the [http://groups.google.com/group/dataincubator mailing list]

= Useful links =
 * OpenLibrary site emits data as [http://openlibrary.org/b/OL7983950M/Weaving-the-Web.json JSON] and (often broken) [http://openlibrary.org/b/OL7983950M/Weaving-the-Web.rdf RDF]
 * It has a [http://openlibrary.org/dev/docs/restful_api RESTful API] and provides  [http://openlibrary.org/static/jsondump/ dumps of all the data in JSON]
 * Thomas Francart's [http://mondeca.wordpress.com/2009/01/05/openlibrary-api-rdf-wrapper-on-google-app-engine/ Open Library wrapper], [https://spreadsheets.google.com/a/mondeca.com/ccc?key=prOEQ8nnfPsH5c7cBBMZzTg&hl=en details of mapping] and [http://olrdf.appspot.com/key/b/OL7983950M.rdf sample output 1], [http://olrdf.appspot.com/key/b/OL5218098M.rdf sample output 2]
 * Rob Styles conversion notes: [http://blogs.talis.com/n2/archives/92 part 1] and [http://blogs.talis.com/n2/archives/101 part 2]
 * [http://openlibrary.org/dev/docs/data other Open Library datasets]

Some interesting records:

  * http://openlibrary.org/b/OL7815034M/The-Colour-of-Magic - Audio Cassette, abridged edition
  * http://openlibrary.org/b/OL22632398M/colour-of-magic - paperback
  * http://openlibrary.org/b/OL7878387M/The-Colour-Of-Magic - hardback with first sentence
  * http://openlibrary.org/b/OL7985559M/The-Colour-of-Magic - Audio CD, unabridged
  * http://openlibrary.org/b/OL3691799M/Free-culture - lccn is linked
  * http://openlibrary.org/b/OL22859738M/Free-culture - table of contents
  * http://openlibrary.org/b/OL8682804M/Free-Software,-Free-Society - rich detail

= Proposed URI Structure =
 * http://ol.dataincubator.org/editions/{edition-id}
 * http://ol.dataincubator.org/works/{work-id}
 * http://ol.dataincubator.org/series/{series-id}
 * http://ol.dataincubator.org/sections/{section-id}
 * http://ol.dataincubator.org/people/{person-id}
 * http://ol.dataincubator.org/places/{place-id}
 * http://ol.dataincubator.org/events/{event-id}

= JSON Mapping =

These mappings are based heavily on Thomas Francart's mapping spreadsheet (linked above) and are implemented in [http://code.google.com/p/dataincubator/source/browse/trunk/ol/scripts/json2rdf.py json2rdf.py]

|| *JSON Key* || *Mapping* ||
|| title || skos:prefLabel and rdfs:label as Literals ||
|| name || skos:prefLabel  ||
|| personal_name || foaf:name ||
|| title_prefix || ol:title_prefix + ov:sortLabel  formed by removing ttitle_prefix from the title ||
|| authors || Create a new group of type rdf:Seq and link with bibo:authorList property. Add each author as an item in the rdf:Seq ||
|| other_titles || Create each one as a separate skos:altLabel ||
|| alternate_names || Create each one as a separate skos:altLabel ||
|| subtitle || ov:subtitle ||
|| lc_classifications || Create each one as a separate ol:lc_classification ||
|| contributions || Create a new group of type rdf:Seq and link with bibo:contributorList property. Add each contributor as an item in the rdf:Seq ||
|| edition_name || bibo:edition ||
|| subjects || Create each one as a separate dc:subject with a literal value (cleaned to remove some trailing punctuation) ||
|| publish_country || ol:publish_country ||
|| by_statement || ol:by_statement ||
|| oclc_numbers and oclc_number || Add each one using bibo:oclcnum, add foaf:isPrimaryTopicOf with a link to http://www.worldcat.org/oclc/{oclcnum}, create a new resource http://ol.dataincubator.org/oclc/{oclcnum} and link to resource with owl:sameAs ||
|| publishers || Create each one as a separate dc:publisher with a literal value ||
|| publish_places || Create each one as a separate ol:publish_place with a literal value ||
|| pagination || ol:pagination ||
|| lccn || Create each one as a separate bibi:lccn with a literal value ||
|| number_of_pages || ov:numberOfPages ||
|| isbn_10 || Add each one using bibo:isbn10, add owl:sameAs with a link to http://www4.wiwiss.fu-berlin.de/bookmashup/books/{isbn}, create a new resource http://ol.dataincubator.org/isbn/{isbn} and link to resource with owl:sameAs ||
|| isbn_13 || Add each one using bibo:isbn13, create a new resource http://ol.dataincubator.org/isbn/{isbn} and link to resource with owl:sameAs ||
|| uris and uri || rdfs:seeAlso ||
|| publish_date || dct:issued ||
|| birth_date || Create a new resource with URI http://ol.dataincubator.org/events/{event-id} and give it a type of bio:Birth and a bio:date, link to resource using bio:event ||
|| death_date || Create a new resource with URI http://ol.dataincubator.org/events/{event-id} and give it a type of bio:Death and a bio:date, link to resource using bio:event ||
|| weight || ov:weight ||
|| physical_format || Convert to rdf:type (see below) ||
|| physical_dimensions || ol:physical_dimensions ||
|| dewey_decimal_class || Create each one as a separate ol:dewey_decimal_class with a literal value ||
|| notes || rdfs:comment ||
|| bio || bio:olb ||
|| first_sentence ||  ov:firstSentence ||
|| wikipedia || foaf:isPrimaryTopicOf ||
|| ocaid || foaf:isPrimaryTopicOf ||
|| description || dct:description ||
|| series || Create a new resource with URI http://ol.dataincubator.org/series/{series-id} add dc:title for each value in JSON, link to resource with ol:series ||
|| languages || Use dct:langauage to link to http://ol.dataincubator.org/l/{language} ||
|| table_of_contents || Create a new group of type rdf:Seq and link with dct:tableOfContents property. Add each item as an item in the rdf:Seq ||

The following namespace prefixes are used:
||  *prefix* || *URI* ||
|| rdf  || http://www.w3.org/1999/02/22-rdf-syntax-ns# ||
|| rdfs  || http://www.w3.org/2000/01/rdf-schema# ||
|| dcterms  || http://purl.org/dc/terms/ ||
|| ol  || http://olrdf.appspot.com/key/ ||
|| bibo  || http://purl.org/ontology/bibo/ ||
|| frbr  || http://purl.org/vocab/frbr/core# ||
|| skos  || http://www.w3.org/2004/02/skos/core# ||
|| foaf  || http://xmlns.com/foaf/0.1/ ||
|| dc  || http://purl.org/dc/elements/1.1/ ||
|| owl  || http://www.w3.org/2002/07/owl# ||
|| bio  || http://vocab.org/bio/0.1/ ||
|| ov  || http://open.vocab.org/terms/ ||
|| mo  || http://purl.org/ontology/mo/ ||

The following JSON keys are ignored: [properties, kind, latest_revision, id, last_modified, created, revision, uri_descriptions, genres, subject_place, subject_time, work_title, work_titles, isbn_invalid, location, scan_on_demand

Physical formats are mapped to RDF classes where possible. Some cleaning and normalisation of the values is performed. The following is a comprehensive list of formats found in a 1% sample of the data, with mapped classes where assigned.

|| *physical_format value* || *class* ||
|| map || bibo:Map ||
|| audio cd || mo:CD ||
|| mp3 cd || *TBD* ||
|| audio cassette || *TBD* ||
|| pamphlet || *TBD* ||
|| diskette || *TBD* ||
|| microform, microforme and microfrom || *TBD* ||
|| spoken word || *TBD* ||
|| paperback || *TBD* ||
|| mass market paperback || *TBD* ||
|| hardback and hardcover || *TBD* ||
|| turtleback || *TBD* ||
|| board book || *TBD* ||
|| rag book || *TBD* ||
|| calendar || *TBD* ||
|| sheet music || *TBD* ||
|| cd-rom || *TBD* ||
|| comic || *TBD* ||
|| cards || *TBD* ||
|| loose leaf || *TBD* ||
|| spiral-bound || *TBD* ||
|| ring-bound || *TBD* ||
|| plastic comb || *TBD* ||
|| library binding || *TBD* ||
|| electronic resource and computer file || *TBD* ||
|| video recording and "videorecording || *TBD* ||
|| pdf || *TBD* ||
|| graphic || *TBD* ||
|| textbook binding || *TBD* ||
|| unknown binding || *TBD* ||
 



= Other Data to Mix In =

  * [http://www.librarything.com/thingology/2007/03/thingisbn-data-in-one-file.php LibraryThing's ISBN database]